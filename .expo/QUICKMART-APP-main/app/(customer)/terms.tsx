import React from 'react';
import { View, Text, StyleSheet, ScrollView, TouchableOpacity } from 'react-native';
import { useRouter } from 'expo-router';
import { StatusBar } from 'expo-status-bar';
import { ArrowLeft, FileText, Calendar, Shield } from 'lucide-react-native';
import { getColors } from '@/constants/colors';
import { useThemeStore } from '@/store/theme-store';
import Layout from '@/constants/layout';

export default function TermsScreen() {
  const router = useRouter();
  const { isDarkMode } = useThemeStore();
  const Colors = getColors(isDarkMode);
  const styles = createStyles(Colors);
  
  return (
    <View style={styles.container}>
      <StatusBar style={isDarkMode ? \"light\" : \"dark\"} />
      
      {/* Header */}
      <View style={styles.header}>
        <TouchableOpacity
          style={styles.backButton}
          onPress={() => router.back()}
        >
          <ArrowLeft size={24} color={Colors.text} />
        </TouchableOpacity>
        
        <View style={styles.headerContent}>
          <Text style={styles.headerTitle}>Terms & Conditions</Text>\n          <Text style={styles.headerSubtitle}>Last updated: January 15, 2024</Text>\n        </View>\n        \n        <View style={styles.headerIcon}>\n          <FileText size={24} color={Colors.primary} />\n        </View>\n      </View>\n      \n      {/* Content */}\n      <ScrollView \n        style={styles.content}\n        contentContainerStyle={styles.contentContainer}\n        showsVerticalScrollIndicator={false}\n      >\n        {/* Introduction */}\n        <View style={styles.section}>\n          <View style={styles.sectionHeader}>\n            <Shield size={20} color={Colors.primary} />\n            <Text style={styles.sectionTitle}>Introduction</Text>\n          </View>\n          <Text style={styles.paragraph}>\n            Welcome to QuickMart! These Terms and Conditions (\"Terms\") govern your use of the QuickMart mobile application and services. By accessing or using our services, you agree to be bound by these Terms.\n          </Text>\n          <Text style={styles.paragraph}>\n            QuickMart is a grocery delivery platform that connects customers with local stores and delivery partners. We strive to provide a convenient, reliable, and safe shopping experience.\n          </Text>\n        </View>\n        \n        {/* Acceptance of Terms */}\n        <View style={styles.section}>\n          <Text style={styles.sectionTitle}>1. Acceptance of Terms</Text>\n          <Text style={styles.paragraph}>\n            By creating an account, placing an order, or using any part of our services, you acknowledge that you have read, understood, and agree to be bound by these Terms and our Privacy Policy.\n          </Text>\n          <Text style={styles.paragraph}>\n            If you do not agree with any part of these Terms, you must not use our services.\n          </Text>\n        </View>\n        \n        {/* Eligibility */}\n        <View style={styles.section}>\n          <Text style={styles.sectionTitle}>2. Eligibility</Text>\n          <Text style={styles.paragraph}>\n            You must be at least 18 years old to use our services. By using QuickMart, you represent and warrant that:\n          </Text>\n          <View style={styles.bulletList}>\n            <Text style={styles.bulletPoint}>• You are at least 18 years of age</Text>\n            <Text style={styles.bulletPoint}>• You have the legal capacity to enter into these Terms</Text>\n            <Text style={styles.bulletPoint}>• You will provide accurate and complete information</Text>\n            <Text style={styles.bulletPoint}>• You will keep your account information up to date</Text>\n          </View>\n        </View>\n        \n        {/* Account Registration */}\n        <View style={styles.section}>\n          <Text style={styles.sectionTitle}>3. Account Registration</Text>\n          <Text style={styles.paragraph}>\n            To use our services, you must create an account by providing accurate and complete information. You are responsible for:\n          </Text>\n          <View style={styles.bulletList}>\n            <Text style={styles.bulletPoint}>• Maintaining the confidentiality of your account credentials</Text>\n            <Text style={styles.bulletPoint}>• All activities that occur under your account</Text>\n            <Text style={styles.bulletPoint}>• Notifying us immediately of any unauthorized use</Text>\n            <Text style={styles.bulletPoint}>• Ensuring your contact information is current</Text>\n          </View>\n        </View>\n        \n        {/* Orders and Payments */}\n        <View style={styles.section}>\n          <Text style={styles.sectionTitle}>4. Orders and Payments</Text>\n          <Text style={styles.subSectionTitle}>4.1 Placing Orders</Text>\n          <Text style={styles.paragraph}>\n            When you place an order through QuickMart, you are making an offer to purchase products. We reserve the right to accept or decline your order for any reason.\n          </Text>\n          \n          <Text style={styles.subSectionTitle}>4.2 Pricing</Text>\n          <Text style={styles.paragraph}>\n            All prices are displayed in the local currency and include applicable taxes. Prices may vary between stores and are subject to change without notice.\n          </Text>\n          \n          <Text style={styles.subSectionTitle}>4.3 Payment</Text>\n          <Text style={styles.paragraph}>\n            Payment is required at the time of order placement. We accept various payment methods including credit cards, mobile money, and digital wallets. You authorize us to charge your selected payment method for the total order amount.\n          </Text>\n        </View>\n        \n        {/* Delivery */}\n        <View style={styles.section}>\n          <Text style={styles.sectionTitle}>5. Delivery</Text>\n          <Text style={styles.paragraph}>\n            We strive to deliver orders within the estimated timeframe, but delivery times are estimates only. Factors beyond our control may affect delivery times.\n          </Text>\n          <View style={styles.bulletList}>\n            <Text style={styles.bulletPoint}>• You must be available to receive your delivery</Text>\n            <Text style={styles.bulletPoint}>• Delivery is to the address you specify</Text>\n            <Text style={styles.bulletPoint}>• You may be required to show ID for age-restricted items</Text>\n            <Text style={styles.bulletPoint}>• Delivery fees apply as displayed during checkout</Text>\n          </View>\n        </View>\n        \n        {/* Cancellations and Refunds */}\n        <View style={styles.section}>\n          <Text style={styles.sectionTitle}>6. Cancellations and Refunds</Text>\n          <Text style={styles.subSectionTitle}>6.1 Order Cancellation</Text>\n          <Text style={styles.paragraph}>\n            You may cancel your order within 5 minutes of placement, provided the store has not begun preparing your order. After this window, cancellation may not be possible.\n          </Text>\n          \n          <Text style={styles.subSectionTitle}>6.2 Refunds</Text>\n          <Text style={styles.paragraph}>\n            We offer refunds for:\n          </Text>\n          <View style={styles.bulletList}>\n            <Text style={styles.bulletPoint}>• Cancelled orders (within the cancellation window)</Text>\n            <Text style={styles.bulletPoint}>• Missing or damaged items</Text>\n            <Text style={styles.bulletPoint}>• Quality issues with perishable goods</Text>\n            <Text style={styles.bulletPoint}>• Service failures on our part</Text>\n          </View>\n        </View>\n        \n        {/* User Conduct */}\n        <View style={styles.section}>\n          <Text style={styles.sectionTitle}>7. User Conduct</Text>\n          <Text style={styles.paragraph}>\n            You agree not to:\n          </Text>\n          <View style={styles.bulletList}>\n            <Text style={styles.bulletPoint}>• Use our services for any illegal or unauthorized purpose</Text>\n            <Text style={styles.bulletPoint}>• Violate any laws in your jurisdiction</Text>\n            <Text style={styles.bulletPoint}>• Transmit any harmful or malicious code</Text>\n            <Text style={styles.bulletPoint}>• Interfere with or disrupt our services</Text>\n            <Text style={styles.bulletPoint}>• Create multiple accounts to circumvent restrictions</Text>\n            <Text style={styles.bulletPoint}>• Abuse or harass our delivery partners or support staff</Text>\n          </View>\n        </View>\n        \n        {/* Intellectual Property */}\n        <View style={styles.section}>\n          <Text style={styles.sectionTitle}>8. Intellectual Property</Text>\n          <Text style={styles.paragraph}>\n            The QuickMart app, including its content, features, and functionality, is owned by QuickMart and is protected by copyright, trademark, and other intellectual property laws.\n          </Text>\n          <Text style={styles.paragraph}>\n            You may not reproduce, distribute, modify, or create derivative works of our content without our express written permission.\n          </Text>\n        </View>\n        \n        {/* Privacy */}\n        <View style={styles.section}>\n          <Text style={styles.sectionTitle}>9. Privacy</Text>\n          <Text style={styles.paragraph}>\n            Your privacy is important to us. Our Privacy Policy explains how we collect, use, and protect your information when you use our services. By using QuickMart, you consent to our privacy practices.\n          </Text>\n        </View>\n        \n        {/* Limitation of Liability */}\n        <View style={styles.section}>\n          <Text style={styles.sectionTitle}>10. Limitation of Liability</Text>\n          <Text style={styles.paragraph}>\n            To the maximum extent permitted by law, QuickMart shall not be liable for any indirect, incidental, special, consequential, or punitive damages, including but not limited to loss of profits, data, or use.\n          </Text>\n          <Text style={styles.paragraph}>\n            Our total liability to you for any claim arising from or relating to these Terms or our services shall not exceed the amount you paid for the specific order giving rise to the claim.\n          </Text>\n        </View>\n        \n        {/* Indemnification */}\n        <View style={styles.section}>\n          <Text style={styles.sectionTitle}>11. Indemnification</Text>\n          <Text style={styles.paragraph}>\n            You agree to indemnify and hold harmless QuickMart, its affiliates, officers, directors, employees, and agents from any claims, damages, losses, or expenses arising from your use of our services or violation of these Terms.\n          </Text>\n        </View>\n        \n        {/* Termination */}\n        <View style={styles.section}>\n          <Text style={styles.sectionTitle}>12. Termination</Text>\n          <Text style={styles.paragraph}>\n            We may terminate or suspend your account and access to our services at any time, with or without notice, for any reason, including violation of these Terms.\n          </Text>\n          <Text style={styles.paragraph}>\n            You may terminate your account at any time by contacting our support team or using the account deletion feature in the app.\n          </Text>\n        </View>\n        \n        {/* Changes to Terms */}\n        <View style={styles.section}>\n          <Text style={styles.sectionTitle}>13. Changes to Terms</Text>\n          <Text style={styles.paragraph}>\n            We reserve the right to modify these Terms at any time. We will notify you of any material changes by posting the updated Terms in the app or by email.\n          </Text>\n          <Text style={styles.paragraph}>\n            Your continued use of our services after any changes constitutes acceptance of the new Terms.\n          </Text>\n        </View>\n        \n        {/* Governing Law */}\n        <View style={styles.section}>\n          <Text style={styles.sectionTitle}>14. Governing Law</Text>\n          <Text style={styles.paragraph}>\n            These Terms shall be governed by and construed in accordance with the laws of the jurisdiction in which QuickMart operates, without regard to conflict of law principles.\n          </Text>\n        </View>\n        \n        {/* Contact Information */}\n        <View style={styles.section}>\n          <Text style={styles.sectionTitle}>15. Contact Information</Text>\n          <Text style={styles.paragraph}>\n            If you have any questions about these Terms, please contact us:\n          </Text>\n          <View style={styles.contactInfo}>\n            <Text style={styles.contactItem}>Email: legal@quickmart.com</Text>\n            <Text style={styles.contactItem}>Phone: +1 (800) 123-4567</Text>\n            <Text style={styles.contactItem}>Address: 123 Delivery Street, San Francisco, CA 94107</Text>\n          </View>\n        </View>\n        \n        {/* Footer */}\n        <View style={styles.footer}>\n          <View style={styles.footerIcon}>\n            <Calendar size={16} color={Colors.subtext} />\n          </View>\n          <Text style={styles.footerText}>\n            Last updated: January 15, 2024\n          </Text>\n          <Text style={styles.footerSubtext}>\n            These Terms are effective as of the date last updated and replace all prior versions.\n          </Text>\n        </View>\n        \n        <View style={styles.bottomSpacing} />\n      </ScrollView>\n    </View>\n  );\n}\n\nconst createStyles = (Colors: any) => StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: Colors.background,\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: Layout.padding,\n    backgroundColor: Colors.white,\n    borderBottomWidth: 1,\n    borderBottomColor: Colors.border,\n  },\n  backButton: {\n    padding: 8,\n    marginRight: 8,\n  },\n  headerContent: {\n    flex: 1,\n  },\n  headerTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: Colors.text,\n  },\n  headerSubtitle: {\n    fontSize: 14,\n    color: Colors.subtext,\n    marginTop: 2,\n  },\n  headerIcon: {\n    padding: 8,\n    marginLeft: 8,\n  },\n  content: {\n    flex: 1,\n  },\n  contentContainer: {\n    padding: Layout.padding,\n  },\n  section: {\n    marginBottom: 24,\n  },\n  sectionHeader: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 12,\n  },\n  sectionTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: Colors.text,\n    marginBottom: 12,\n    marginLeft: 8,\n  },\n  subSectionTitle: {\n    fontSize: 16,\n    fontWeight: '600',\n    color: Colors.text,\n    marginBottom: 8,\n    marginTop: 12,\n  },\n  paragraph: {\n    fontSize: 15,\n    lineHeight: 24,\n    color: Colors.text,\n    marginBottom: 12,\n  },\n  bulletList: {\n    marginLeft: 16,\n    marginBottom: 12,\n  },\n  bulletPoint: {\n    fontSize: 15,\n    lineHeight: 24,\n    color: Colors.text,\n    marginBottom: 4,\n  },\n  contactInfo: {\n    backgroundColor: Colors.card,\n    padding: 16,\n    borderRadius: 8,\n    marginTop: 8,\n  },\n  contactItem: {\n    fontSize: 15,\n    color: Colors.text,\n    marginBottom: 8,\n    fontFamily: 'monospace',\n  },\n  footer: {\n    alignItems: 'center',\n    padding: 24,\n    backgroundColor: Colors.card,\n    borderRadius: 12,\n    marginTop: 16,\n  },\n  footerIcon: {\n    marginBottom: 8,\n  },\n  footerText: {\n    fontSize: 14,\n    fontWeight: '600',\n    color: Colors.text,\n    marginBottom: 8,\n  },\n  footerSubtext: {\n    fontSize: 12,\n    color: Colors.subtext,\n    textAlign: 'center',\n    lineHeight: 18,\n  },\n  bottomSpacing: {\n    height: 20,\n  },\n});